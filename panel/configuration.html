<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Environment Configuration | Pterodactyl</title>
    <meta name="description" content="The open-source server management solution.">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#0e4688">
  <link rel="manifest" href="/favicons/manifest.json">
  <link rel="shortcut icon" href="/favicons/favicon.ico">
  <meta name="msapplication-config" content="/favicons/browserconfig.xml">
  <meta name="theme-color" content="#0e4688">
    
    <link rel="preload" href="/assets/css/0.styles.55a8b33d.css" as="style"><link rel="preload" href="/assets/js/app.121bbbc7.js" as="script"><link rel="preload" href="/assets/js/15.21b80fc8.js" as="script"><link rel="prefetch" href="/assets/js/9.2548a993.js"><link rel="prefetch" href="/assets/js/2.3b671f57.js"><link rel="prefetch" href="/assets/js/3.72f4a392.js"><link rel="prefetch" href="/assets/js/4.bcd16af4.js"><link rel="prefetch" href="/assets/js/5.e7b8283f.js"><link rel="prefetch" href="/assets/js/6.dffa48f8.js"><link rel="prefetch" href="/assets/js/7.f99055a1.js"><link rel="prefetch" href="/assets/js/8.c47125df.js"><link rel="prefetch" href="/assets/js/10.48b8e7f2.js"><link rel="prefetch" href="/assets/js/11.a55599c3.js"><link rel="prefetch" href="/assets/js/12.de2f5d2b.js"><link rel="prefetch" href="/assets/js/13.7e03768b.js"><link rel="prefetch" href="/assets/js/14.56ee1950.js"><link rel="prefetch" href="/assets/js/16.656db705.js"><link rel="prefetch" href="/assets/js/17.2c5dacc7.js"><link rel="prefetch" href="/assets/js/18.77282fd5.js"><link rel="prefetch" href="/assets/js/19.836d8c33.js"><link rel="prefetch" href="/assets/js/20.2e6640c4.js"><link rel="prefetch" href="/assets/js/21.43584830.js"><link rel="prefetch" href="/assets/js/22.3072b5e6.js"><link rel="prefetch" href="/assets/js/23.c3844035.js"><link rel="prefetch" href="/assets/js/24.f74e7ca9.js"><link rel="prefetch" href="/assets/js/25.1492bc08.js"><link rel="prefetch" href="/assets/js/26.61199fc0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.55a8b33d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="nav"><div class="sidebar-button block md:hidden flex-no-shrink"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="logo-container"><a href="/" class="home-link router-link-active"><img src="/pterodactyl-flat.png" class="logo"> <span class="site-name hidden md:inline can-hide">
    Pterodactyl
  </span></a></div> <div class="w-full"><div class="flex"><div class="search-box"><input aria-label="Search" placeholder="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links flex-no-shrink hidden md:flex"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">Get Started
</a></div><div class="nav-item"><a href="https://pterodactyl.io/discord" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Get Help
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            Contribute
            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links flex-no-shrink block md:hidden"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">Get Started
</a></div><div class="nav-item"><a href="https://pterodactyl.io/discord" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Get Help
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            Contribute
            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Project Information</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/project/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/project/about.html" class="sidebar-link">About</a></li><li><a href="/project/terms.html" class="sidebar-link">Terminology</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Panel</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/panel/getting_started.html" class="sidebar-link">Getting Started</a></li><li><a href="/panel/webserver_configuration.html" class="sidebar-link">Webserver Configuration</a></li><li><a href="/panel/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/panel/configuration.html" class="active sidebar-link">Environment Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/panel/configuration.html#reverse-proxy-setup" class="sidebar-link">Reverse Proxy Setup</a></li><li class="sidebar-sub-header"><a href="/panel/configuration.html#increasing-editable-file-size" class="sidebar-link">Increasing Editable File Size</a></li><li class="sidebar-sub-header"><a href="/panel/configuration.html#client-databases" class="sidebar-link">Client Databases</a></li><li class="sidebar-sub-header"><a href="/panel/configuration.html#forcing-environment-from-file" class="sidebar-link">Forcing Environment From File</a></li><li class="sidebar-sub-header"><a href="/panel/configuration.html#report-all-exceptions" class="sidebar-link">Report All Exceptions</a></li></ul></li><li><a href="/panel/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Daemon</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/daemon/installing.html" class="sidebar-link">Installation</a></li><li><a href="/daemon/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/daemon/configuration.html" class="sidebar-link">Additional Configuration</a></li><li><a href="/daemon/kernel_modifications.html" class="sidebar-link">Kernel Modifications</a></li><li><a href="/daemon/debian_8_docker.html" class="sidebar-link">Docker on Debian 8</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Tutorials</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/tutorials/mysql_setup.html" class="sidebar-link">Setting up MySQL</a></li><li><a href="/tutorials/creating_ssl_certificates.html" class="sidebar-link">Creating SSL Certificates</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Development &amp; Ops</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="environment-configuration"><a href="#environment-configuration" aria-hidden="true" class="header-anchor">#</a> Environment Configuration</h1> <p></p><div class="table-of-contents"><ul><li><a href="#reverse-proxy-setup">Reverse Proxy Setup</a><ul><li><a href="#cloudflare-specific-configuration">Cloudflare Specific Configuration</a></li></ul></li><li><a href="#increasing-editable-file-size">Increasing Editable File Size</a></li><li><a href="#client-databases">Client Databases</a></li><li><a href="#forcing-environment-from-file">Forcing Environment From File</a><ul><li><a href="#manually-editing-the-database">Manually editing the database</a></li></ul></li><li><a href="#report-all-exceptions">Report All Exceptions</a></li></ul></div><p></p> <h2 id="reverse-proxy-setup"><a href="#reverse-proxy-setup" aria-hidden="true" class="header-anchor">#</a> Reverse Proxy Setup</h2> <p>If you are planning on running Pterodactyl behind a reverse proxy, either using NGINX or because you are using
<a href="https://support.cloudflare.com/hc/en-us/articles/200170416-What-do-the-SSL-options-mean-" target="_blank" rel="noopener noreferrer">Cloudflare's Flexible SSL<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
you will need to make a quick modification to the Panel to ensure things continue to work as expected. By default when
you are using these reverse proxies your Panel will not understand how to properly handle requests and you'll most likely
be unable to login, or will see security warnings in your browser console as it attempts to load insecure assets. This
is because the internal logic the Panel is using to determine how links should be generated thinks it is running over
HTTP, and not over HTTPS.</p> <p>You will need to edit the <code>.env</code> file in the Panel's root directory to contain <code>TRUSTED_PROXIES=*</code> at minimum. We
highly suggest providing a specific IP address (or comma seperated list of IPs) rather than allowing <code>*</code>. For example,
if your proxy is running on the same machine as the server, chances are that something like <code>TRUSTED_PROXIES=127.0.0.1</code>
will work for you.</p> <h3 id="cloudflare-specific-configuration"><a href="#cloudflare-specific-configuration" aria-hidden="true" class="header-anchor">#</a> Cloudflare Specific Configuration</h3> <p>If you're using Cloudflares Flexible SSL you should set <code>TRUSTED_PROXIES</code> to contain <a href="https://www.cloudflare.com/ips/" target="_blank" rel="noopener noreferrer">their IP addresses<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
Below is an example of how to set this.</p> <div class="language- extra-class"><pre class="language-text"><code>TRUSTED_PROXIES=103.21.244.0/22,103.22.200.0/22,103.31.4.0/22,104.16.0.0/12,108.162.192.0/18,131.0.72.0/22,141.101.64.0/18,162.158.0.0/15,172.64.0.0/13,173.245.48.0/20,188.114.96.0/20,190.93.240.0/20,197.234.240.0/22,198.41.128.0/17
</code></pre></div><h2 id="increasing-editable-file-size"><a href="#increasing-editable-file-size" aria-hidden="true" class="header-anchor">#</a> Increasing Editable File Size</h2> <p>By default the Panel attempts to set a reasonable limit for editing files through the web based file manager. However,
some users find it too restrictive and wish to increase the size. This is controlled by a configuration value that can
also be set using the <code>.env</code> file. The default value is <code>50,000</code> bytes but this can be increased as you see fit.</p> <div class="language- extra-class"><pre class="language-text"><code>PTERODACTYL_FILES_MAX_EDIT_SIZE=50000
</code></pre></div><h2 id="client-databases"><a href="#client-databases" aria-hidden="true" class="header-anchor">#</a> Client Databases</h2> <p>By default Pterodactyl ships with the ability for clients to have their own per-server databases. If you wish to disable
this ability, set <code>PTERODACTYL_CLIENT_DATABASES_ENABLED</code> to be <code>false</code>. Pterodactyl also attempts to create databases
on a database host assigned to the current server's node but will use any host if one can't be found. If you would like
to force a database to be created only on a host belonging to that server's node, set <code>PTERODACTYL_CLIENT_DATABASES_ALLOW_RANDOM</code>
to be <code>false</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>PTERODACTYL_CLIENT_DATABASES_ENABLED=true
PTERODACTYL_CLIENT_DATABASES_ALLOW_RANDOM=true
</code></pre></div><h2 id="forcing-environment-from-file"><a href="#forcing-environment-from-file" aria-hidden="true" class="header-anchor">#</a> Forcing Environment From File</h2> <p>Out of the box Pterodactyl supports reading certain settings from the database rather than the <code>.env</code> file. This is
mainly to make configuration easier for administrators, and let you avoid having to SSH into the server to make
changes. However, there are also instances where this behavior might be undesirable — for example, if you lock
yourself out of the Panel because of a bad reCAPTCHA key.</p> <p>If you want to force the Panel to read only from <code>.env</code> and not use settings stored in the database, add or edit
<code>APP_ENVIRONMENT_ONLY</code> in your <code>.env</code> file to be <code>APP_ENVIRONMENT_ONLY=true</code>. This will ignore settings in the
database, and read only from the environment file. Once you have resolved whatever issues you might be having
you can change it to be <code>false</code> to go back to using the database.</p> <h3 id="manually-editing-the-database"><a href="#manually-editing-the-database" aria-hidden="true" class="header-anchor">#</a> Manually editing the database</h3> <p>If you need to manually edit a setting, you can do so by changing the value in the <code>settings</code> table in the Pterodactyl
database. Some values are encrypted however, so you cannot just edit those, you'll either need to provide a new
encrypted value or follow the instructions above for reading from the environment until you fix it manually in the Panel.</p> <h2 id="report-all-exceptions"><a href="#report-all-exceptions" aria-hidden="true" class="header-anchor">#</a> Report All Exceptions</h2> <p>By default Pterodactyl only logs and reports exceptions that are, well, exceptional by nature. There are some exceptions
that we expect to occur such as authentication failures or validation issues. However, in rare instances when developing,
or even on production servers, you might need to have all exceptions logged to detect inconsistent behavior.</p> <p>To do this, simply set <code>APP_REPORT_ALL_EXCEPTIONS=true</code> in your <code>.env</code> file. You'll want to turn this off once you've
completed whatever it is you're needing the exceptions for, otherwise your logs will become very large, very quickly.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pterodactyl/documentation/edit/master/panel/configuration.md" target="_blank" rel="noopener noreferrer">Help us improve this page.</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"></p> <div class="prev"><span>
                ← <a href="/panel/upgrading.html">Upgrading</a></span></div> <div class="next"><span><a href="/panel/troubleshooting.html">Troubleshooting</a> →
            </span></div></div> </div></div></div>
    <script src="/assets/js/15.21b80fc8.js" defer></script><script src="/assets/js/app.121bbbc7.js" defer></script>
  </body>
</html>
